<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Marvel: Data Assembled</title>
  <link rel="icon" href="https://k-leonard.github.io/Kendall.png" type="image/png">
  <style>
    body {
      font-family: "Century Schoolbook", serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      background-image: url('https://k-leonard.github.io/smallfloral.png');
      background-size: cover;
      background-position: center;
    }

    .container {
      width: 85%;
      max-width: 1000px;
      background-color: rgba(255, 255, 255, 0.92);
      padding: 30px 40px;
      margin-top: 100px;
      margin-bottom: 60px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .navbar {
      background-color: #333;
      width: 100%;
      display: flex;
      justify-content: center;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      padding: 10px 0;
    }

    .navbar a {
      color: white;
      padding: 14px 20px;
      text-decoration: none;
      font-size: 18px;
    }

    .navbar a:hover { background-color: #ddd; color: black; }

    .progress-badge {
      position: fixed;
      top: 70px;
      right: 20px;
      background-color: #34c759;
      color: #0f3d1e;
      font-weight: bold;
      padding: 8px 14px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      z-index: 1001;
      font-size: 14px;
    }

    h1 { text-align: center; color: #222; font-size: 2.5em; }

    .project-subtitle {
      text-align: center;
      font-style: italic;
      color: #666;
      margin-bottom: 30px;
    }

    .project-section { margin-bottom: 40px; }

    h2 {
      color: #000205;
      margin-bottom: 10px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
      font-size: 1.6em;
    }

    ul { padding-left: 20px; }

    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      margin-top: 15px;
      margin-bottom: 15px;
      cursor: zoom-in;
    }

    figcaption { font-size: 14px; color: #555; margin-top: 8px; }

    .feature-card {
      border: 1px solid #e8e8e8;
      border-radius: 12px;
      padding: 18px 20px;
      background: #fafafa;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }

    .last-updated { text-align: center; font-size: 14px; color: #666; margin-top: 20px; }
    footer { text-align: center; margin-top: 40px; }
    a.back-link { color: #337ab7; text-decoration: none; }
    a.back-link:hover { text-decoration: underline; }

    .lightbox-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.8); display: none;
      align-items: center; justify-content: center; z-index: 2000;
    }
    .lightbox-overlay img {
      max-width: 90%; max-height: 90%;
      border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.5);
      cursor: zoom-out;
    }

    .button-group {
      display: flex; justify-content: center;
      gap: 20px; flex-wrap: wrap; margin-top: 15px;
    }
    .button-group a {
      display: inline-flex; align-items: center; gap: 12px;
      font-size: 16px; text-decoration: none; color: #333;
      background-color: #f5f5f5; padding: 10px 20px; border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .button-group a img {
      width: 28px; height: 28px; max-width: none; box-shadow: none; margin: 0;
    }

    /* Interactive ERD styles */
    #zoom-controls {
      display: flex; gap: 10px; flex-wrap: wrap;
      margin: 10px 0 15px 0;
    }
    #zoom-controls button {
      padding: 6px 12px; font-size: 14px;
      border-radius: 6px; border: 1px solid #aaa;
      background: #eee; cursor: pointer;
    }
    #diagram-container {
      height: 65vh; /* fits nicely within your container */
      overflow: auto;
      background: #fff;
      border: 1px solid #e6e6e6;
      border-radius: 10px;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.02);
    }
    #diagram-wrapper {
      display: flex; justify-content: center; align-items: center;
      min-width: 600px;
    }
  </style>

  <!-- Pan/zoom library for the ERD -->
  <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
</head>

<body>
  <div id="navbar-container"></div>
  <div class="progress-badge">✅ Finalized — October 2025</div>

  <div class="container">
    <h1>Marvel: Data Assembled</h1>
    <p class="project-subtitle">Predicting & Explaining MCU Adaptation Success from Comic Storytelling DNA<br><em>Master’s Capstone — Kendall Leonard & Joshue Fuentes-Ventura</em></p>

    <section class="project-section">
      <h2>Overview</h2>
      <p>
        The Marvel Cinematic Universe (MCU) is a superhero movie franchise that exploded onto the scene in 2008 with the premiere of <em>Iron Man</em> and has become one of the most successful film franchises in history. However, despite commercial success, many longtime fans have begun to question if the magic and creative spark that defined the franchise’s earlier phases has faded.
      </p>
      <p>
        The origin story of this project began with a simple but persistent question: why do some characters and storylines translate seamlessly to the screen while others, despite having rich and beloved source material, fail to resonate? Our goal was to understand the comic-specific storytelling elements—such as character development, power dynamics, team interactions, and narrative structure—that contribute to the success of adaptations.
      </p>
    </section>

    <section class="project-section">
      <h2>Data Sources</h2>
      <p>
        The data for this project originates from three primary sources: the official Marvel website (Marvel.com), Rotten Tomatoes, and IMDb. Marvel.com provided comprehensive information about characters, comic book issues, story arcs, powers, and team affiliations. IMDb was used to identify which comic characters had already appeared in the MCU. Rotten Tomatoes offered critical and audience response data, allowing us to define adaptation success as an audience score above 85.
      </p>
      <p>
        Our final dataset included 27,520 comics, 1,868 unique Marvel characters, and adaptation metadata for the complete set of MCU productions to date.
      </p>
    </section>

    <section class="project-section">
      <h2>Data Organization</h2>
      <p>
        Our dataset integrates multiple streams of information—comic metadata, character details, MCU adaptation data, and audience/critic reception—into a unified relational structure. The schema captures character traits, comic metadata, adaptation linkages, and auxiliary attributes across over 20 interrelated tables.
      </p>

      <!-- Interactive ERD starts here -->
      <div id="zoom-controls">
        <button onclick="zoomIn()">Zoom In</button>
        <button onclick="zoomOut()">Zoom Out</button>
        <button onclick="resetZoom()">Reset</button>
      </div>

      <div id="diagram-container">
        <div id="diagram-wrapper"></div>
      </div>

      <!-- Mermaid definition (hidden text block) -->
      <script type="text/plain" id="mermaid-container">
%%{init: {'theme': 'default', 'flowchart': {'htmlLabels': true}, 'er': { 'useMaxWidth': false }}}%%
erDiagram
    marvel_heroes {
        int character_id PK
        string civilian_name
        boolean comedy
        string sex
        boolean in_movie
        int ethnicity_id FK
        int species_id FK
    }

    character_ethnicities {
        int ethnicity_id PK
        string ethnicity_label
    }

    species {
        int species_id PK
        string description
    }

    hero_aliases {
        int alias_id PK
        string alias_name
    }

    hero_to_alias {
        int character_id FK
        int alias_id FK
    }

    powers {
        int power_id PK
        string description
    }

    power_type {
        int power_type_id PK
        string description
    }

    character_power_type {
        int character_id FK
        int power_type_id FK
    }

    hero_powers {
        int character_id FK
        int power_id FK
    }

    teams {
        int team_id PK
        string description
    }

    characters_in_teams {
        int character_id FK
        int team_id FK
    }

    marvel_ratings {
        int media_id PK
        string title
        string type
        float critic_score
        float audience_score
        date release_date
    }

    characters_in_movies {
        int character_id FK
        int movie_id FK
    }

    comics {
        int comic_id PK
        int series_id FK
        string comic_title
        date release_date
        int page_count
        string rating
        float price
        string description
        int threat_id FK
        boolean used_in_movie
        boolean movie_based
        boolean mentor
        boolean impactful_moment
        boolean comedy
        boolean cultural
        int location_id FK
        boolean romance
        boolean origin_story
        int major_event FK
        string comic_url
    }

    comic_series {
        int series_id PK
        string series_name
    }

    comic_characters {
        int comic_id FK
        int character_id FK
    }

    comic_to_creator {
        int comic_id FK
        int creator_id FK
    }

    creators {
        int creator_id PK
        string creator_name
    }

    comic_to_movie {
        int comic_id FK
        int movie_id FK
    }

    comic_themes {
        int comic_id FK
        int theme_id FK
    }

    comic_threats {
        int comic_id FK
        int threat_id FK
    }

    themes {
        int theme_id PK
        string description
    }

    threat_level {
        int threat_id PK
        string description
    }

    locations {
        int location_id PK
        string description
    }

    major_event {
        int event_id PK
        string description
    }

    %% Relationships
    marvel_heroes ||--o{ character_power_type : has
    power_type ||--o{ character_power_type : classifies
    marvel_heroes ||--o{ hero_powers : uses
    powers ||--o{ hero_powers : is
    marvel_heroes ||--o{ hero_to_alias : has
    hero_aliases ||--o{ hero_to_alias : includes
    marvel_heroes ||--o{ characters_in_teams : member
    teams ||--o{ characters_in_teams : consists_of
    marvel_heroes ||--o{ characters_in_movies : featured_in
    marvel_ratings ||--o{ characters_in_movies : includes
    marvel_heroes ||--o{ comic_characters : appears_in
    comics ||--o{ comic_characters : features
    comics ||--o{ comic_to_creator : created_by
    creators ||--o{ comic_to_creator : contributes
    comics ||--o{ comic_to_movie : adapted_to
    marvel_ratings ||--o{ comic_to_movie : based_on
    comics ||--o{ comic_themes : explores
    themes ||--o{ comic_themes : present_in
    comics ||--o{ comic_threats : faces
    threat_level ||--o{ comic_threats : level
    comics ||--o| comic_series : part_of
    comics ||--o| locations : set_in
    comics ||--o| major_event : involves
    marvel_heroes }|--|| character_ethnicities : identifies_as
    marvel_heroes }|--|| species : belongs_to
      </script>
      <!-- Interactive ERD ends here -->
    </section>

    <section class="project-section">
      <h2>Methods</h2>
      <p>
        Our analysis framed the problem as a binary classification task: given a comic issue’s metadata, could we predict whether it would be a strong candidate for a successful MCU adaptation? We trained three modeling strategies—Random Forest, constrained XGBoost, and Logistic Regression—each chosen for a specific reason.
      </p>
      <p>
        The constrained XGBoost model used shallow trees, strong regularization, and feature subsampling to generalize better. The logistic regression model offered transparent coefficients that directly show the direction and magnitude of each feature’s influence on the outcome. Finally, we averaged the two models’ predicted probabilities to create a composite success potential score.
      </p>
    </section>

    <section class="project-section">
      <h2>Ethical Considerations</h2>
      <p>
        We prioritized sourcing information from official or semi-official platforms to ensure accuracy, attribution, and compliance with public data access guidelines. Marvel’s official descriptions often reflect the creative and cultural context in which they were written, so to avoid introducing systematic errors, we discarded automated classifications for gender or nationality.
      </p>
      <p>
        Predictive models like ours have real-world influence if used in industry settings. Our models are decision-support tools, intended to complement rather than replace human judgment.
      </p>
    </section>

    <section class="project-section">
      <h2>Results</h2>
      <p>
        Each dot in our visualization represents a single MCU or television release between 2008 and 2025. The earlier Marvel phases (2008–2018) maintained a fairly consistent audience reception, often in the 80–90% range. Since 2019, however, scores have become far more variable. Statistical testing confirmed significantly higher variability in scores, revealing that the MCU is no longer as consistent as it used to be.
      </p>
      <ul>
        <li><strong>XGBoost:</strong> 89.9% accuracy, AUC 0.968, Kappa 0.4473, sensitivity 89.4%, specificity 92.9%.</li>
        <li><strong>Logistic Regression:</strong> 81.2% accuracy, AUC 0.898, precision 96.5%, recall 71.0%, Kappa 0.425.</li>
      </ul>
      <p>
        The most influential predictors were the number of issues in the series, the theme of civil conflict, the number of creators, and page count. Themes of scientific ethics, civil conflict, and social threats or uprisings also strongly correlated with success.
      </p>
    </section>

    <section class="project-section">
      <h2>Top Recommendation</h2>
      <div class="feature-card">
        <p>
          Our top candidate was <em>Agents of Atlas (2006) #5</em>, with an XGBoost probability of 0.9988, a logistic regression probability of 1.0000, and a combined score of 0.9994. The issue features rivalries and power struggles, civil conflict, and national emergency-level threats, alongside infiltration, deception, mystery, and investigation.
        </p>
        <p>
          These thematic drivers, combined with advanced technology and a diverse team structure, closely mirror the narrative DNA of past successful MCU adaptations.
        </p>
      </div>
    </section>

    <section class="project-section">
      <h2>Discussion & Limitations</h2>
      <p>
        Our findings demonstrate that it is possible to identify promising MCU adaptation candidates by analyzing the structural and thematic DNA of the comics themselves. Many real-world factors that influence film success—such as casting, directing, visual effects, and marketing—were intentionally excluded. There is no official, comprehensive list linking individual comics to their screen adaptations, and subtle or context-dependent traits may have gone undetected.
      </p>
    </section>

    <section class="project-section">
      <h2>Future Work</h2>
      <p>
        Character-level modeling presents another significant opportunity. Future steps include experimenting with different weighting strategies for the ensemble, improving adaptation mapping, and expanding the analysis to non-MCU properties. By quantifying the narrative elements of source material, studios could make more informed choices about which stories to adapt.
      </p>
    </section>

    <section class="project-section" style="text-align:center;">
      <h2>View on GitHub & Read Full Paper</h2>
      <div class="button-group">
        <a href="https://github.com/wu-msds-capstones/salem-project-workbook-kendall_leonard_and_joshue_fuentes" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub">
          View Repository
        </a>
        <a href="https://wu-msds-capstones.github.io/capstone-writeup-kendall_leonard_and_joshue_fuentes/" target="_blank" rel="noopener">
          <img src="https://freesvg.org/img/pdf17.png" alt="PDF">
          Read Full Paper Here
        </a>
      </div>
      <p style="margin-top:10px;font-size:14px;color:#666;">
        Disclaimer: We are not officially associated with Marvel Studios or The Walt Disney Company. This capstone is a passion project, and we earn no income from this publication.
      </p>
    </section>

    <footer>
      <div class="last-updated">Last Updated: <span id="last-updated-date">Loading...</span></div>
      <p><em>This page summarizes the finalized capstone, which was presented and approved in August 2025.</em></p>
      <a class="back-link" href="https://k-leonard.github.io/Website_Assets/Projects.html">Back to Projects</a>
    </footer>
  </div>

  <script>
    // Load Navbar
    fetch('https://k-leonard.github.io/navbar.html')
      .then(r=>r.text())
      .then(d=>{document.getElementById('navbar-container').innerHTML=d});

    // Last updated via GitHub API
    const apiURL="https://api.github.com/repos/k-leonard/k-leonard.github.io/commits?path=Website_Assets/capstone-project.html&per_page=1";
    fetch(apiURL).then(r=>r.json()).then(data=>{
      if(data&&data[0]){
        const date=new Date(data[0].commit.committer.date);
        const opt={year:"numeric",month:"long",day:"numeric"};
        document.getElementById("last-updated-date").textContent=date.toLocaleDateString("en-US",opt);
      } else {
        document.getElementById("last-updated-date").textContent="Unavailable";
      }
    }).catch(()=>{document.getElementById("last-updated-date").textContent="Unavailable";});

    // Simple lightbox for zoomable images (still present for any other images)
    const lightbox=document.createElement('div');
    lightbox.className='lightbox-overlay';lightbox.id='lightbox';
    lightbox.innerHTML='<img src="" alt="Enlarged view">';
    document.body.appendChild(lightbox);
    const zoomables=document.querySelectorAll('.zoomable');
    const lightboxImg=lightbox.querySelector('img');
    zoomables.forEach(img=>{
      img.addEventListener('click',()=>{
        lightboxImg.src=img.src;
        lightbox.style.display='flex';
      });
    });
    lightbox.addEventListener('click',()=>{
      lightbox.style.display='none';
      lightboxImg.src='';
    });
  </script>

  <!-- Mermaid (ES module) to render the ERD -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

    // Choose your starting view
    const INITIAL_ZOOM = 4;
    const INITIAL_PAN  = { x: -1950, y: 70 };

    // Render Mermaid -> inject SVG
    const def = document.getElementById("mermaid-container").textContent;
    const { svg } = await mermaid.render("erd", def);
    const wrapper = document.getElementById("diagram-wrapper");
    wrapper.innerHTML = svg;

    // Optional: remove Mermaid's auto title if present
    const headerText = wrapper.querySelector('svg text');
    if (headerText && headerText.textContent.trim() === 'Entity Relationship Diagram') {
      headerText.parentNode.removeChild(headerText);
    }

    // Init pan/zoom
    const instance = svgPanZoom(wrapper.querySelector("svg"), {
      zoomEnabled: true,
      panEnabled: true,
      controlIconsEnabled: false,
      minZoom: 0.1,
      maxZoom: 10
    });

    // Set the initial view
    instance.zoom(INITIAL_ZOOM);
    instance.pan(INITIAL_PAN);

    // Expose button handlers
    window.zoomIn = () => instance.zoomIn();
    window.zoomOut = () => instance.zoomOut();
    window.resetZoom = () => {
      instance.zoom(INITIAL_ZOOM);
      instance.pan(INITIAL_PAN);
    };
  </script>
</body>
</html>
